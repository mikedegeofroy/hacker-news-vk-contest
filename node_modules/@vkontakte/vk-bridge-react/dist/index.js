"use strict";var e=require("react"),t=require("@vkontakte/vk-bridge"),r="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,n={type:null,viewportWidth:0,viewportHeight:0};var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};exports.runTapticImpactOccurred=function(e){return!!t.supports("VKWebAppTapticImpactOccurred")&&(t.send("VKWebAppTapticImpactOccurred",{style:e}).catch((function(){})),!0)},exports.useAdaptivity=function(){var i=e.useState(n),a=i[0],c=i[1];return r((function(){var e=function(e){if("viewport_width"in e&&"viewport_height"in e){var t=function(e){var t=e.adaptivity,r=e.viewport_width,n=e.viewport_height,i={type:null,viewportWidth:isFinite(r)?Number(r):0,viewportHeight:isFinite(n)?Number(n):0};switch(t){case"force_mobile":case"force_mobile_compact":case"adaptive":i.type=t}return i}(e);t&&c(t)}},r=function(t){var r=t.detail,n=r.type,i=r.data;"VKWebAppUpdateConfig"===n&&e(i)};return t.subscribe(r),t.send("VKWebAppGetConfig").then(e).catch(console.error),function(){t.unsubscribe(r)}}),[]),a},exports.useAppearance=function(){var n=e.useState(null),i=n[0],a=n[1];return r((function(){if(t.isEmbedded()){var e=function(e){var t=function(e){var t=e.scheme,r=e.appearance;if(r)return r;return"space_gray"===t||"vkcom_dark"===t?"dark":"light"}(e);t&&a(t)},r=function(t){var r=t.detail,n=r.type,i=r.data;"VKWebAppUpdateConfig"===n&&"appearance"in i&&"scheme"in i&&e(i)};return t.subscribe(r),t.send("VKWebAppGetConfig").then(e).catch(console.error),function(){return t.unsubscribe(r)}}}),[]),i},exports.useInsets=function(){var n=e.useState(null),a=n[0],c=n[1];return r((function(){var e=function(e){var t=function(e){var t=e.detail,r=t.type,n=t.data;switch(r){case"VKWebAppUpdateInsets":case"VKWebAppUpdateConfig":if(!("insets"in n))return null;var a=n.insets;if(a)return i(i({},a),{bottom:a.bottom>150?0:a.bottom})}return null}(e);t&&c(t)};return t.subscribe(e),function(){t.unsubscribe(e)}}),[]),a};
//# sourceMappingURL=index.js.map
