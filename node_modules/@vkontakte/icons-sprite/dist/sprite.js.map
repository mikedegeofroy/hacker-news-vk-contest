{"version":3,"sources":["../src/sprite.ts"],"sourcesContent":["import { BrowserSprite } from './browser-sprite';\nimport { useLayoutEffect, useEffect } from 'react';\n\nconst canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet browserSprite: BrowserSprite | null;\n\nif (canUseDOM) {\n  const spriteId = '__SVG_SPRITE_NODE__';\n\n  browserSprite = new BrowserSprite({ attrs: { id: spriteId } });\n\n  const mount = () => {\n    const spriteNode = document.getElementById(spriteId);\n    if (spriteNode) {\n      browserSprite!.attach(spriteNode);\n    } else {\n      browserSprite!.mount(document.body);\n    }\n\n    document.removeEventListener('DOMContentLoaded', mount);\n  };\n\n  if (document.querySelector('body')) {\n    mount();\n  } else {\n    document.addEventListener('DOMContentLoaded', mount);\n  }\n} else {\n  browserSprite = null;\n}\n\nexport function addSpriteSymbol(symbol: any) {\n  if (browserSprite) {\n    browserSprite.add(symbol);\n  }\n}\n\nexport const useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\n"],"names":["BrowserSprite","useLayoutEffect","useEffect","canUseDOM","window","document","createElement","browserSprite","spriteId","attrs","id","mount","spriteNode","getElementById","attach","body","removeEventListener","querySelector","addEventListener","addSpriteSymbol","symbol","add","useIsomorphicLayoutEffect"],"mappings":"AAAA,SAASA,aAAa,QAAQ,mBAAmB;AACjD,SAASC,eAAe,EAAEC,SAAS,QAAQ,QAAQ;AAEnD,IAAMC,YAAY,CAAC,CACjB,CAAA,OAAOC,WAAW,eAClBA,OAAOC,QAAQ,IACfD,OAAOC,QAAQ,CAACC,aAAa,AAAD;AAG9B,IAAIC;AAEJ,IAAIJ,WAAW;IACb,IAAMK,WAAW;IAEjBD,gBAAgB,IAAIP,cAAc;QAAES,OAAO;YAAEC,IAAIF;QAAS;IAAE;IAE5D,IAAMG,QAAQ;QACZ,IAAMC,aAAaP,SAASQ,cAAc,CAACL;QAC3C,IAAII,YAAY;YACdL,cAAeO,MAAM,CAACF;QACxB,OAAO;YACLL,cAAeI,KAAK,CAACN,SAASU,IAAI;QACpC;QAEAV,SAASW,mBAAmB,CAAC,oBAAoBL;IACnD;IAEA,IAAIN,SAASY,aAAa,CAAC,SAAS;QAClCN;IACF,OAAO;QACLN,SAASa,gBAAgB,CAAC,oBAAoBP;IAChD;AACF,OAAO;IACLJ,gBAAgB;AAClB;AAEA,OAAO,SAASY,gBAAgBC,MAAW;IACzC,IAAIb,eAAe;QACjBA,cAAcc,GAAG,CAACD;IACpB;AACF;AAEA,OAAO,IAAME,4BAA4BnB,YAAYF,kBAAkBC,UAAU"}