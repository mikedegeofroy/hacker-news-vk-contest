{"version":3,"sources":["../../src/sprite.ts"],"sourcesContent":["import { BrowserSprite } from './browser-sprite';\nimport { useLayoutEffect, useEffect } from 'react';\n\nconst canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet browserSprite: BrowserSprite | null;\n\nif (canUseDOM) {\n  const spriteId = '__SVG_SPRITE_NODE__';\n\n  browserSprite = new BrowserSprite({ attrs: { id: spriteId } });\n\n  const mount = () => {\n    const spriteNode = document.getElementById(spriteId);\n    if (spriteNode) {\n      browserSprite!.attach(spriteNode);\n    } else {\n      browserSprite!.mount(document.body);\n    }\n\n    document.removeEventListener('DOMContentLoaded', mount);\n  };\n\n  if (document.querySelector('body')) {\n    mount();\n  } else {\n    document.addEventListener('DOMContentLoaded', mount);\n  }\n} else {\n  browserSprite = null;\n}\n\nexport function addSpriteSymbol(symbol: any) {\n  if (browserSprite) {\n    browserSprite.add(symbol);\n  }\n}\n\nexport const useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\n"],"names":["addSpriteSymbol","useIsomorphicLayoutEffect","canUseDOM","window","document","createElement","browserSprite","spriteId","BrowserSprite","attrs","id","mount","spriteNode","getElementById","attach","body","removeEventListener","querySelector","addEventListener","symbol","add","useLayoutEffect","useEffect"],"mappings":";;;;;;;;;;;IAoCgBA,eAAe;eAAfA;;IAMHC,yBAAyB;eAAzBA;;;6BA1CiB;qBACa;AAE3C,IAAMC,YAAY,CAAC,CACjB,CAAA,OAAOC,WAAW,eAClBA,OAAOC,QAAQ,IACfD,OAAOC,QAAQ,CAACC,aAAa,AAAD;AAG9B,IAAIC;AAEJ,IAAIJ,WAAW;IACb,IAAMK,WAAW;IAEjBD,gBAAgB,IAAIE,4BAAa,CAAC;QAAEC,OAAO;YAAEC,IAAIH;QAAS;IAAE;IAE5D,IAAMI,QAAQ;QACZ,IAAMC,aAAaR,SAASS,cAAc,CAACN;QAC3C,IAAIK,YAAY;YACdN,cAAeQ,MAAM,CAACF;QACxB,OAAO;YACLN,cAAeK,KAAK,CAACP,SAASW,IAAI;QACpC;QAEAX,SAASY,mBAAmB,CAAC,oBAAoBL;IACnD;IAEA,IAAIP,SAASa,aAAa,CAAC,SAAS;QAClCN;IACF,OAAO;QACLP,SAASc,gBAAgB,CAAC,oBAAoBP;IAChD;AACF,OAAO;IACLL,gBAAgB;AAClB;AAEO,SAASN,gBAAgBmB,MAAW;IACzC,IAAIb,eAAe;QACjBA,cAAcc,GAAG,CAACD;IACpB;AACF;AAEO,IAAMlB,4BAA4BC,YAAYmB,sBAAe,GAAGC,gBAAS"}