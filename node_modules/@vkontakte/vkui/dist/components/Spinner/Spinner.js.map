{"version":3,"sources":["../../../src/components/Spinner/Spinner.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from '@vkontakte/icons';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Spinner.module.css';\n\nexport interface SpinnerProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  size?: 'small' | 'regular' | 'medium' | 'large';\n  disableAnimation?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Spinner\n */\nexport const Spinner = React.memo(\n  ({\n    size = 'regular',\n    children = 'Загружается...',\n    disableAnimation,\n    ...restProps\n  }: SpinnerProps) => {\n    const SpinnerIcon = {\n      small: Icon16Spinner,\n      regular: Icon24Spinner,\n      medium: Icon32Spinner,\n      large: Icon44Spinner,\n    }[size];\n\n    const center = {\n      small: 8,\n      regular: 12,\n      medium: 16,\n      large: 22,\n    }[size];\n\n    return (\n      <RootComponent\n        Component=\"span\"\n        role=\"status\"\n        {...restProps}\n        baseClassName={styles['Spinner']}\n      >\n        <SpinnerIcon>\n          {!disableAnimation && (\n            // TODO [a11y]: use reduced motion hook?\n            //              https://github.com/VKCOM/VKUI/pull/4673\n            <animateTransform\n              attributeName=\"transform\"\n              attributeType=\"XML\"\n              type=\"rotate\"\n              from={`0 ${center} ${center}`}\n              to={`360 ${center} ${center}`}\n              dur=\"0.7s\"\n              repeatCount=\"indefinite\"\n            />\n          )}\n        </SpinnerIcon>\n        {hasReactNode(children) && <VisuallyHidden>{children}</VisuallyHidden>}\n      </RootComponent>\n    );\n  },\n);\n\nSpinner.displayName = 'Spinner';\n"],"names":["React","Icon16Spinner","Icon24Spinner","Icon32Spinner","Icon44Spinner","hasReactNode","RootComponent","VisuallyHidden","Spinner","memo","size","children","disableAnimation","restProps","SpinnerIcon","small","regular","medium","large","center","Component","role","baseClassName","animateTransform","attributeName","attributeType","type","from","to","dur","repeatCount","displayName"],"mappings":";;;AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,aAAa,EAAEC,aAAa,EAAEC,aAAa,EAAEC,aAAa,QAAQ,mBAAmB;AAC9F,SAASC,YAAY,QAAQ,kBAAkB;AAE/C,SAASC,aAAa,QAAQ,iCAAiC;AAC/D,SAASC,cAAc,QAAQ,mCAAmC;AAQlE;;CAEC,GACD,OAAO,MAAMC,wBAAUR,MAAMS,IAAI,CAC/B;QAAC,EACCC,OAAO,SAAS,EAChBC,WAAW,gBAAgB,EAC3BC,gBAAgB,EAEH,WADVC;QAHHH;QACAC;QACAC;;IAGA,MAAME,cAAc;QAClBC,OAAOd;QACPe,SAASd;QACTe,QAAQd;QACRe,OAAOd;IACT,CAAC,CAACM,KAAK;IAEP,MAAMS,SAAS;QACbJ,OAAO;QACPC,SAAS;QACTC,QAAQ;QACRC,OAAO;IACT,CAAC,CAACR,KAAK;IAEP,qBACE,oBAACJ;QACCc,WAAU;QACVC,MAAK;OACDR;QACJS,aAAa;sBAEb,oBAACR,mBACE,CAACF,oBACA,wCAAwC;IACxC,uDAAuD;kBACvD,oBAACW;QACCC,eAAc;QACdC,eAAc;QACdC,MAAK;QACLC,MAAM,CAAC,EAAE,EAAER,OAAO,CAAC,EAAEA,OAAO,CAAC;QAC7BS,IAAI,CAAC,IAAI,EAAET,OAAO,CAAC,EAAEA,OAAO,CAAC;QAC7BU,KAAI;QACJC,aAAY;SAIjBzB,aAAaM,2BAAa,oBAACJ,sBAAgBI;AAGlD,GACA;AAEFH,QAAQuB,WAAW,GAAG"}