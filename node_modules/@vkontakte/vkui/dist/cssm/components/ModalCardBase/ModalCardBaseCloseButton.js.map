{"version":3,"sources":["../../../../src/components/ModalCardBase/ModalCardBaseCloseButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon20Cancel, Icon24Dismiss } from '@vkontakte/icons';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { Tappable, TappableProps } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './ModalCardBase.module.css';\n\ninterface ModalCardBaseCloseButtonProps extends Omit<TappableProps, 'mode' | 'onClose'> {\n  onClose?: VoidFunction;\n  testId?: string;\n  mode?: 'inside' | 'outside';\n}\n\nexport function ModalCardBaseCloseButton({\n  children = 'Закрыть',\n  testId,\n  mode,\n  onClose,\n}: ModalCardBaseCloseButtonProps) {\n  const platform = usePlatform();\n  const { isDesktop } = useAdaptivityWithJSMediaQueries();\n\n  if (isDesktop && mode === 'outside') {\n    return (\n      <ModalDismissButton data-testid={testId} onClick={onClose}>\n        {children}\n      </ModalDismissButton>\n    );\n  }\n\n  if (mode === 'inside' || (platform === 'ios' && !isDesktop)) {\n    return (\n      <Tappable\n        className={styles['ModalCardBase__dismiss']}\n        onClick={onClose}\n        hoverMode=\"opacity\"\n        activeMode=\"opacity\"\n        data-testid={testId}\n      >\n        <VisuallyHidden>{children}</VisuallyHidden>\n        {platform === 'ios' ? <Icon24Dismiss /> : <Icon20Cancel />}\n      </Tappable>\n    );\n  }\n\n  return null;\n}\n"],"names":["React","Icon20Cancel","Icon24Dismiss","useAdaptivityWithJSMediaQueries","usePlatform","ModalDismissButton","Tappable","VisuallyHidden","styles","ModalCardBaseCloseButton","children","testId","mode","onClose","platform","isDesktop","data-testid","onClick","className","hoverMode","activeMode"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,YAAY,EAAEC,aAAa,QAAQ,mBAAmB;AAC/D,SAASC,+BAA+B,QAAQ,8CAA8C;AAC9F,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,kBAAkB,QAAQ,2CAA2C;AAC9E,SAASC,QAAQ,QAAuB,uBAAuB;AAC/D,SAASC,cAAc,QAAQ,mCAAmC;AAClE,OAAOC,YAAY,6BAA6B;AAQhD,OAAO,SAASC,yBAAyB,EACvCC,WAAW,SAAS,EACpBC,MAAM,EACNC,IAAI,EACJC,OAAO,EACuB;IAC9B,MAAMC,WAAWV;IACjB,MAAM,EAAEW,SAAS,EAAE,GAAGZ;IAEtB,IAAIY,aAAaH,SAAS,WAAW;QACnC,qBACE,oBAACP;YAAmBW,eAAaL;YAAQM,SAASJ;WAC/CH;IAGP;IAEA,IAAIE,SAAS,YAAaE,aAAa,SAAS,CAACC,WAAY;QAC3D,qBACE,oBAACT;YACCY,WAAWV,MAAM,CAAC,yBAAyB;YAC3CS,SAASJ;YACTM,WAAU;YACVC,YAAW;YACXJ,eAAaL;yBAEb,oBAACJ,sBAAgBG,WAChBI,aAAa,sBAAQ,oBAACZ,qCAAmB,oBAACD;IAGjD;IAEA,OAAO;AACT"}