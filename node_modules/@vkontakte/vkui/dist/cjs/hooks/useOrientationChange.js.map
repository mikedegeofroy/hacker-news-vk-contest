{"version":3,"sources":["../../../src/hooks/useOrientationChange.ts"],"sourcesContent":["import * as React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\ntype Orientation = 'portrait' | 'landscape';\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Учитывает особенности API на разных платформах.\n */\nfunction getOrientation(window: Window | undefined): Orientation {\n  if (!window) {\n    return 'portrait';\n  }\n\n  const angle = Math.abs(\n    // eslint-disable-next-line compat/compat\n    window.screen?.orientation?.angle ?? Number(window.orientation),\n  );\n\n  return angle === 90 ? 'landscape' : 'portrait';\n}\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Обновляется при изменении ориентации.\n */\nexport function useOrientationChange(): Orientation {\n  const { window } = useDOM();\n\n  const [orientation, setOrientation] = React.useState(() => getOrientation(window));\n\n  useGlobalEventListener(window, 'orientationchange', () => setOrientation(getOrientation(window)));\n\n  return orientation;\n}\n"],"names":["useOrientationChange","getOrientation","window","angle","Math","abs","screen","orientation","Number","useDOM","setOrientation","React","useState","useGlobalEventListener"],"mappings":";;;;+BA2BgBA;;;eAAAA;;;;iEA3BO;qBACA;wCACgB;AAIvC;;;CAGC,GACD,SAASC,eAAeC,MAA0B;QAM9C,yCAAyC;IACzCA,4BAAAA;IANF,IAAI,CAACA,QAAQ;QACX,OAAO;IACT;QAIEA;IAFF,MAAMC,QAAQC,KAAKC,GAAG,CAEpBH,CAAAA,oCAAAA,iBAAAA,OAAOI,MAAM,cAAbJ,sCAAAA,6BAAAA,eAAeK,WAAW,cAA1BL,iDAAAA,2BAA4BC,KAAK,cAAjCD,8CAAAA,mCAAqCM,OAAON,OAAOK,WAAW;IAGhE,OAAOJ,UAAU,KAAK,cAAc;AACtC;AAMO,SAASH;IACd,MAAM,EAAEE,MAAM,EAAE,GAAGO,IAAAA,WAAM;IAEzB,MAAM,CAACF,aAAaG,eAAe,GAAGC,OAAMC,QAAQ,CAAC,IAAMX,eAAeC;IAE1EW,IAAAA,8CAAsB,EAACX,QAAQ,qBAAqB,IAAMQ,eAAeT,eAAeC;IAExF,OAAOK;AACT"}