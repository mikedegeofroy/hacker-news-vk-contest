{"version":3,"sources":["../../../src/hooks/useTimeout.ts"],"sourcesContent":["import * as React from 'react';\nimport { canUseDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport function useTimeout(cb: () => any, duration: number) {\n  const options = React.useRef({ cb, duration });\n  useIsomorphicLayoutEffect(() => {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>();\n  const clear = React.useCallback(() => {\n    if (canUseDOM && timeout?.current) {\n      clearTimeout(timeout.current);\n    }\n  }, []);\n  const set = React.useCallback(\n    (duration = options.current.duration) => {\n      clear();\n      if (canUseDOM) {\n        timeout.current = setTimeout(() => {\n          const { cb } = options.current;\n          typeof cb === 'function' && cb();\n        }, duration);\n      }\n    },\n    [clear],\n  );\n  useIsomorphicLayoutEffect(() => clear, []);\n\n  return { set, clear };\n}\n"],"names":["useTimeout","cb","duration","options","React","useRef","useIsomorphicLayoutEffect","current","timeout","clear","useCallback","canUseDOM","clearTimeout","set","setTimeout"],"mappings":";;;;+BAIgBA;;;eAAAA;;;;iEAJO;qBACG;2CACgB;AAEnC,SAASA,WAAWC,EAAa,EAAEC,QAAgB;IACxD,MAAMC,UAAUC,OAAMC,MAAM,CAAC;QAAEJ;QAAIC;IAAS;IAC5CI,IAAAA,oDAAyB,EAAC;QACxBH,QAAQI,OAAO,CAACN,EAAE,GAAGA;QACrBE,QAAQI,OAAO,CAACL,QAAQ,GAAGA;IAC7B,GAAG;QAACD;QAAIC;KAAS;IAEjB,MAAMM,UAAUJ,OAAMC,MAAM;IAC5B,MAAMI,QAAQL,OAAMM,WAAW,CAAC;QAC9B,IAAIC,cAAS,KAAIH,oBAAAA,8BAAAA,QAASD,OAAO,GAAE;YACjCK,aAAaJ,QAAQD,OAAO;QAC9B;IACF,GAAG,EAAE;IACL,MAAMM,MAAMT,OAAMM,WAAW,CAC3B,CAACR,WAAWC,QAAQI,OAAO,CAACL,QAAQ;QAClCO;QACA,IAAIE,cAAS,EAAE;YACbH,QAAQD,OAAO,GAAGO,WAAW;gBAC3B,MAAM,EAAEb,EAAE,EAAE,GAAGE,QAAQI,OAAO;gBAC9B,OAAON,OAAO,cAAcA;YAC9B,GAAGC;QACL;IACF,GACA;QAACO;KAAM;IAETH,IAAAA,oDAAyB,EAAC,IAAMG,OAAO,EAAE;IAEzC,OAAO;QAAEI;QAAKJ;IAAM;AACtB"}