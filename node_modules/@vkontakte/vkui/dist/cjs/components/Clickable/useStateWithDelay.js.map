{"version":3,"sources":["../../../../src/components/Clickable/useStateWithDelay.tsx"],"sourcesContent":["import * as React from 'react';\n\ntype DispatchWithDelay<S> = (value: S, delay?: number) => void;\n\n/**\n * Возвращает значение с состоянием и функции на обновление состояния\n * без и с задержкой.\n *\n * # Пример\n *\n * ```ts\n * const [count, setCount] = useStateWithDelay(initialState);\n *\n * const click = () => {\n *   setCount(count + 1, 500)\n * }\n * ```\n */\nexport function useStateWithDelay<S>(\n  initialState: S | (() => S),\n  defaultDelay = 0,\n): [S, DispatchWithDelay<React.SetStateAction<S>>] {\n  const [value, setValue] = React.useState(initialState);\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>();\n\n  const setValueWithDelay = React.useCallback(\n    (newValue: React.SetStateAction<S>, delay: number = defaultDelay) => {\n      clearTimeout(timeout.current);\n      if (delay === 0) {\n        setValue(newValue);\n        return;\n      }\n\n      timeout.current = setTimeout(() => setValue(newValue), delay);\n    },\n    [defaultDelay],\n  );\n\n  return [value, setValueWithDelay];\n}\n"],"names":["useStateWithDelay","initialState","defaultDelay","value","setValue","React","useState","timeout","useRef","setValueWithDelay","useCallback","newValue","delay","clearTimeout","current","setTimeout"],"mappings":";;;;+BAkBgBA;;;eAAAA;;;;iEAlBO;AAkBhB,SAASA,kBACdC,YAA2B,EAC3BC,eAAe,CAAC;IAEhB,MAAM,CAACC,OAAOC,SAAS,GAAGC,OAAMC,QAAQ,CAACL;IACzC,MAAMM,UAAUF,OAAMG,MAAM;IAE5B,MAAMC,oBAAoBJ,OAAMK,WAAW,CACzC,CAACC,UAAmCC,QAAgBV,YAAY;QAC9DW,aAAaN,QAAQO,OAAO;QAC5B,IAAIF,UAAU,GAAG;YACfR,SAASO;YACT;QACF;QAEAJ,QAAQO,OAAO,GAAGC,WAAW,IAAMX,SAASO,WAAWC;IACzD,GACA;QAACV;KAAa;IAGhB,OAAO;QAACC;QAAOM;KAAkB;AACnC"}