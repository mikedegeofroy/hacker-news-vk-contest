{"version":3,"sources":["../../../../src/components/Header/Header.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Header.module.css';\n\nexport interface HeaderProps extends HTMLAttributesWithRootRef<HTMLElement>, HasComponent {\n  mode?: 'primary' | 'secondary' | 'tertiary';\n  size?: 'regular' | 'large';\n  subtitle?: React.ReactNode;\n  /* Позволяет задать тип элемента в который будет обёрнут subtitle */\n  subtitleComponent?: React.ElementType;\n  /**\n   * Допускаются иконки, текст, Link\n   */\n  aside?: React.ReactNode;\n  /**\n   * Допускаются текст, Indicator\n   */\n  indicator?: React.ReactNode;\n  multiline?: boolean;\n}\n\ntype HeaderContentProps = Pick<HeaderProps, 'children' | 'mode' | 'size' | 'className'> &\n  HasComponent;\n\nconst HeaderContent = ({ mode, size, ...restProps }: HeaderContentProps) => {\n  const isLarge = size === 'large';\n\n  const platform = usePlatform();\n  if (platform === 'ios') {\n    switch (mode) {\n      case 'primary':\n        return isLarge ? (\n          <Title level=\"2\" weight=\"2\" {...restProps} />\n        ) : (\n          <Title weight=\"1\" level=\"3\" {...restProps} />\n        );\n      case 'secondary':\n        return <Footnote weight=\"1\" caps {...restProps} />;\n      case 'tertiary':\n        return <Title weight=\"1\" level=\"3\" {...restProps} />;\n    }\n  }\n\n  switch (mode) {\n    case 'primary':\n      return isLarge ? (\n        <Title level=\"2\" weight=\"2\" {...restProps} />\n      ) : (\n        <Headline weight=\"2\" {...restProps} />\n      );\n    case 'secondary':\n      return <Footnote weight=\"1\" caps {...restProps} />;\n    case 'tertiary':\n      return <Headline weight=\"2\" {...restProps} />;\n  }\n\n  return null;\n};\n\nconst stylesMode = {\n  primary: styles['Header--mode-primary'],\n  secondary: styles['Header--mode-secondary'],\n  tertiary: styles['Header--mode-tertiary'],\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/Header\n */\nexport const Header = ({\n  mode = 'primary',\n  size = 'regular',\n  Component = 'h2',\n  children,\n  subtitle,\n  subtitleComponent = 'span',\n  indicator,\n  aside,\n  multiline,\n  ...restProps\n}: HeaderProps) => {\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles['Header'],\n        stylesMode[mode],\n        size === 'large' && styles['Header--large'],\n        isPrimitiveReactNode(indicator) && styles['Header--pi'],\n        hasReactNode(subtitle) && styles['Header--with-subtitle'],\n      )}\n    >\n      <div className={styles['Header__main']}>\n        <HeaderContent\n          className={styles['Header__content']}\n          Component={Component}\n          mode={mode}\n          size={size}\n        >\n          <span\n            className={classNames(\n              styles['Header__content-in'],\n              multiline && styles['Header__content--multiline'],\n            )}\n          >\n            {children}\n          </span>\n          {hasReactNode(indicator) && (\n            <Footnote className={styles['Header__indicator']} weight=\"2\">\n              {indicator}\n            </Footnote>\n          )}\n        </HeaderContent>\n\n        {hasReactNode(subtitle) && (\n          <Subhead\n            className={classNames(\n              styles['Header__subtitle'],\n              multiline && styles['Header__content--multiline'],\n            )}\n            Component={subtitleComponent}\n          >\n            {subtitle}\n          </Subhead>\n        )}\n      </div>\n\n      {hasReactNode(aside) && (\n        <Paragraph className={styles['Header__aside']} Component=\"span\">\n          {aside}\n        </Paragraph>\n      )}\n    </RootComponent>\n  );\n};\n"],"names":["Header","HeaderContent","mode","size","restProps","isLarge","platform","usePlatform","Title","level","weight","Footnote","caps","Headline","stylesMode","primary","secondary","tertiary","Component","children","subtitle","subtitleComponent","indicator","aside","multiline","RootComponent","baseClassName","classNames","isPrimitiveReactNode","hasReactNode","div","className","span","Subhead","Paragraph"],"mappings":";;;;+BA2EaA;;;eAAAA;;;;;;;iEA3EU;sBACwC;6BACnC;+BAEE;0BACL;0BACA;2BACC;yBACF;uBACF;AAuBtB,MAAMC,gBAAgB;QAAC,EAAEC,IAAI,EAAEC,IAAI,EAAoC,WAA/BC;QAAfF;QAAMC;;IAC7B,MAAME,UAAUF,SAAS;IAEzB,MAAMG,WAAWC,IAAAA,wBAAW;IAC5B,IAAID,aAAa,OAAO;QACtB,OAAQJ;YACN,KAAK;gBACH,OAAOG,wBACL,qBAACG,YAAK;oBAACC,OAAM;oBAAIC,QAAO;mBAAQN,4BAEhC,qBAACI,YAAK;oBAACE,QAAO;oBAAID,OAAM;mBAAQL;YAEpC,KAAK;gBACH,qBAAO,qBAACO,kBAAQ;oBAACD,QAAO;oBAAIE,MAAAA;mBAASR;YACvC,KAAK;gBACH,qBAAO,qBAACI,YAAK;oBAACE,QAAO;oBAAID,OAAM;mBAAQL;QAC3C;IACF;IAEA,OAAQF;QACN,KAAK;YACH,OAAOG,wBACL,qBAACG,YAAK;gBAACC,OAAM;gBAAIC,QAAO;eAAQN,4BAEhC,qBAACS,kBAAQ;gBAACH,QAAO;eAAQN;QAE7B,KAAK;YACH,qBAAO,qBAACO,kBAAQ;gBAACD,QAAO;gBAAIE,MAAAA;eAASR;QACvC,KAAK;YACH,qBAAO,qBAACS,kBAAQ;gBAACH,QAAO;eAAQN;IACpC;IAEA,OAAO;AACT;AAEA,MAAMU,aAAa;IACjBC,OAAO;IACPC,SAAS;IACTC,QAAQ;AACV;AAIO,MAAMjB,SAAS;QAAC,EACrBE,OAAO,SAAS,EAChBC,OAAO,SAAS,EAChBe,YAAY,IAAI,EAChBC,QAAQ,EACRC,QAAQ,EACRC,oBAAoB,MAAM,EAC1BC,SAAS,EACTC,KAAK,EACLC,SAAS,EAEG,WADTpB;QATHF;QACAC;QACAe;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,qBACE,qBAACC,4BAAa,8CACRrB;QACJsB,eAAeC,IAAAA,gBAAU,gBAEvBb,UAAU,CAACZ,KAAK,EAChBC,SAAS,gCACTyB,IAAAA,0BAAoB,EAACN,gCACrBO,IAAAA,kBAAY,EAACT;sBAGf,qBAACU;QAAIC,SAAS;qBACZ,qBAAC9B;QACC8B,SAAS;QACTb,WAAWA;QACXhB,MAAMA;QACNC,MAAMA;qBAEN,qBAAC6B;QACCD,WAAWJ,IAAAA,gBAAU,4BAEnBH;OAGDL,WAEFU,IAAAA,kBAAY,EAACP,4BACZ,qBAACX,kBAAQ;QAACoB,SAAS;QAA+BrB,QAAO;OACtDY,aAKNO,IAAAA,kBAAY,EAACT,2BACZ,qBAACa,gBAAO;QACNF,WAAWJ,IAAAA,gBAAU,0BAEnBH;QAEFN,WAAWG;OAEVD,YAKNS,IAAAA,kBAAY,EAACN,wBACZ,qBAACW,oBAAS;QAACH,SAAS;QAA2Bb,WAAU;OACtDK;AAKX"}