{"version":3,"sources":["../../../../src/components/Progress/Progress.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { clamp } from '../../helpers/math';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Progress.module.css';\n\nconst stylesAppearance = {\n  accent: styles['Progress--appearance-accent'],\n  positive: styles['Progress--appearance-positive'],\n  negative: styles['Progress--appearance-negative'],\n};\n\nfunction progressCustomHeightStyle(height: number | undefined): React.CSSProperties | undefined {\n  return height\n    ? {\n        height,\n        borderRadius: height / 2,\n      }\n    : undefined;\n}\n\nfunction progressStyle(height: number | undefined, styleProps: React.CSSProperties | undefined) {\n  const styleHeight = progressCustomHeightStyle(height);\n  const style = styleHeight ? { ...styleProps, ...styleHeight } : styleProps;\n\n  return style;\n}\n\nexport interface ProgressProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Стиль отображения прогрессбара\n   */\n  appearance?: 'accent' | 'positive' | 'negative';\n  value?: number;\n  /**\n   * Высота элемента.\n   */\n  height?: number;\n}\n\nconst PROGRESS_MIN_VALUE = 0;\nconst PROGRESS_MAX_VALUE = 100;\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Progress\n */\nexport const Progress = ({\n  value = 0,\n  appearance = 'accent',\n  height,\n  style: styleProps,\n  ...restProps\n}: ProgressProps) => {\n  const progress = clamp(value, PROGRESS_MIN_VALUE, PROGRESS_MAX_VALUE);\n  const title = `${progress} / ${PROGRESS_MAX_VALUE}`;\n\n  const style = progressStyle(height, styleProps);\n\n  return (\n    <RootComponent\n      aria-valuenow={value}\n      title={title}\n      style={style}\n      {...restProps}\n      role=\"progressbar\"\n      aria-valuemin={PROGRESS_MIN_VALUE}\n      aria-valuemax={PROGRESS_MAX_VALUE}\n      baseClassName={classNames(styles['Progress'], stylesAppearance[appearance])}\n    >\n      <div className={styles['Progress__in']} style={{ width: `${progress}%` }} />\n    </RootComponent>\n  );\n};\n"],"names":["Progress","stylesAppearance","accent","positive","negative","progressCustomHeightStyle","height","borderRadius","undefined","progressStyle","styleProps","styleHeight","style","PROGRESS_MIN_VALUE","PROGRESS_MAX_VALUE","value","appearance","restProps","progress","clamp","title","RootComponent","aria-valuenow","role","aria-valuemin","aria-valuemax","baseClassName","classNames","div","className","width"],"mappings":";;;;+BA+CaA;;;eAAAA;;;;;;;iEA/CU;sBACI;sBACL;+BAEQ;AAG9B,MAAMC,mBAAmB;IACvBC,MAAM;IACNC,QAAQ;IACRC,QAAQ;AACV;AAEA,SAASC,0BAA0BC,MAA0B;IAC3D,OAAOA,SACH;QACEA;QACAC,cAAcD,SAAS;IACzB,IACAE;AACN;AAEA,SAASC,cAAcH,MAA0B,EAAEI,UAA2C;IAC5F,MAAMC,cAAcN,0BAA0BC;IAC9C,MAAMM,QAAQD,cAAc,qBAAKD,YAAeC,eAAgBD;IAEhE,OAAOE;AACT;AAcA,MAAMC,qBAAqB;AAC3B,MAAMC,qBAAqB;AAKpB,MAAMd,WAAW;QAAC,EACvBe,QAAQ,CAAC,EACTC,aAAa,QAAQ,EACrBV,MAAM,EACNM,OAAOF,UAAU,EAEH,WADXO;QAJHF;QACAC;QACAV;QACAM;;IAGA,MAAMM,WAAWC,IAAAA,WAAK,EAACJ,OAAOF,oBAAoBC;IAClD,MAAMM,QAAQ,CAAC,EAAEF,SAAS,GAAG,EAAEJ,mBAAmB,CAAC;IAEnD,MAAMF,QAAQH,cAAcH,QAAQI;IAEpC,qBACE,qBAACW,4BAAa;QACZC,iBAAeP;QACfK,OAAOA;QACPR,OAAOA;OACHK;QACJM,MAAK;QACLC,iBAAeX;QACfY,iBAAeX;QACfY,eAAeC,IAAAA,gBAAU,kBAAqB1B,gBAAgB,CAACe,WAAW;sBAE1E,qBAACY;QAAIC,SAAS;QAA0BjB,OAAO;YAAEkB,OAAO,CAAC,EAAEZ,SAAS,CAAC,CAAC;QAAC;;AAG7E"}