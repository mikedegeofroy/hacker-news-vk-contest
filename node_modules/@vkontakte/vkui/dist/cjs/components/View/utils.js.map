{"version":3,"sources":["../../../../src/components/View/utils.ts"],"sourcesContent":["import { getOverflowAncestors } from '../../lib/floating';\nimport { TouchEvent } from '../Touch/Touch';\n\nconst swipeBackExcludedSelector = 'input, textarea, [data-vkui-swipe-back=false]';\n\nexport function swipeBackExcluded(e: TouchEvent) {\n  const target = e.originalEvent.target as HTMLElement;\n  // eslint-disable-next-line no-restricted-properties\n  return Boolean(target?.closest?.(swipeBackExcludedSelector));\n}\n\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node: HTMLElement) {\n  return getOverflowAncestors(node).some((node) =>\n    'scrollLeft' in node ? node.scrollLeft > 0 : false,\n  );\n}\n\nexport const SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\n\nexport const SWIPE_BACK_SHIFT_THRESHOLD = 10;\n\nexport const getSwipeBackPredicates = (startX: number, shiftX: number, innerWidth: number) => {\n  const swipedToOpposite = shiftX < 0;\n  const swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  const viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  const viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched };\n};\n"],"names":["SWIPE_BACK_EDGE_SIZE_THRESHOLD","SWIPE_BACK_SHIFT_THRESHOLD","getSwipeBackPredicates","hasHorizontalScrollableElementWithScrolledToLeft","swipeBackExcluded","swipeBackExcludedSelector","e","target","originalEvent","Boolean","closest","node","getOverflowAncestors","some","scrollLeft","startX","shiftX","innerWidth","swipedToOpposite","swipeBackTriggered","viewportStartEdgeTouched","viewportEndEdgeTouched"],"mappings":";;;;;;;;;;;IAiBaA,8BAA8B;eAA9BA;;IAEAC,0BAA0B;eAA1BA;;IAEAC,sBAAsB;eAAtBA;;IAVGC,gDAAgD;eAAhDA;;IANAC,iBAAiB;eAAjBA;;;0BALqB;AAGrC,MAAMC,4BAA4B;AAE3B,SAASD,kBAAkBE,CAAa;QAG9BC;IAFf,MAAMA,SAASD,EAAEE,aAAa,CAACD,MAAM;IACrC,oDAAoD;IACpD,OAAOE,QAAQF,mBAAAA,8BAAAA,kBAAAA,OAAQG,OAAO,cAAfH,sCAAAA,qBAAAA,QAAkBF;AACnC;AAEO,SAASF,iDAAiDQ,IAAiB;IAChF,OAAOC,IAAAA,8BAAoB,EAACD,MAAME,IAAI,CAAC,CAACF,OACtC,gBAAgBA,OAAOA,KAAKG,UAAU,GAAG,IAAI;AAEjD;AAEO,MAAMd,iCAAiC;AAEvC,MAAMC,6BAA6B;AAEnC,MAAMC,yBAAyB,CAACa,QAAgBC,QAAgBC;IACrE,MAAMC,mBAAmBF,SAAS;IAClC,MAAMG,qBAAqBH,UAAUf;IACrC,MAAMmB,2BAA2BL,UAAUf;IAC3C,MAAMqB,yBAAyBN,UAAUE,aAAajB;IACtD,OAAO;QAAEkB;QAAkBC;QAAoBC;QAA0BC;IAAuB;AAClG"}