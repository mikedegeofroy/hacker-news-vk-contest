{"version":3,"sources":["../../src/lib/warnOnce.ts"],"sourcesContent":["type WarnOnceType = 'log' | 'warn' | 'error';\nexport type WarnOnceHandler = (message: string, type?: WarnOnceType) => void;\n\nexport function warnOnce(zone: string): WarnOnceHandler {\n  const didWarn = new Set<string>();\n\n  return (message: string, type: WarnOnceType = 'warn') => {\n    if (!didWarn.has(message)) {\n      didWarn.add(message);\n\n      const formattedMessage = `%c[VKUI/${zone}] ${message}`;\n      const styles = type === 'log' ? 'color: steelblue; font-style: italic' : undefined;\n\n      // eslint-disable-next-line no-console\n      console[type](formattedMessage, styles);\n    }\n  };\n}\n\nfunction getA11yRuleUrl(ruleName: string): string {\n  // see jest-axe's axe-core dependency\n  const AXE_CORE_MINOR_VERSION = '4.5';\n\n  return `https://dequeuniversity.com/rules/axe/${AXE_CORE_MINOR_VERSION}/${ruleName}`;\n}\n\nexport const COMMON_WARNINGS = {\n  a11y: {\n    'button-name': `a11y: Кнопка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n${getA11yRuleUrl('button-name')}`,\n    'link-name': `a11y: Ссылка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n${getA11yRuleUrl('link-name')}`,\n    'image-alt': `a11y: Изображение должно содержать альтернативный текст, который его описывает. Чтобы исправить эту ошибку, передайте компоненту свойство alt.\n${getA11yRuleUrl('image-alt')}`,\n  },\n};\n"],"names":["warnOnce","zone","didWarn","Set","message","type","has","add","formattedMessage","styles","undefined","console","getA11yRuleUrl","ruleName","AXE_CORE_MINOR_VERSION","COMMON_WARNINGS","a11y"],"mappings":"AAGA,OAAO,SAASA,SAASC,IAAY;IACnC,MAAMC,UAAU,IAAIC;IAEpB,OAAO,CAACC,SAAiBC,OAAqB,MAAM;QAClD,IAAI,CAACH,QAAQI,GAAG,CAACF,UAAU;YACzBF,QAAQK,GAAG,CAACH;YAEZ,MAAMI,mBAAmB,CAAC,QAAQ,EAAEP,KAAK,EAAE,EAAEG,QAAQ,CAAC;YACtD,MAAMK,SAASJ,SAAS,QAAQ,yCAAyCK;YAEzE,sCAAsC;YACtCC,OAAO,CAACN,KAAK,CAACG,kBAAkBC;QAClC;IACF;AACF;AAEA,SAASG,eAAeC,QAAgB;IACtC,qCAAqC;IACrC,MAAMC,yBAAyB;IAE/B,OAAO,CAAC,sCAAsC,EAAEA,uBAAuB,CAAC,EAAED,SAAS,CAAC;AACtF;AAEA,OAAO,MAAME,kBAAkB;IAC7BC,MAAM;QACJ,eAAe,CAAC;AACpB,EAAEJ,eAAe,eAAe,CAAC;QAC7B,aAAa,CAAC;AAClB,EAAEA,eAAe,aAAa,CAAC;QAC3B,aAAa,CAAC;AAClB,EAAEA,eAAe,aAAa,CAAC;IAC7B;AACF,EAAE"}