{"version":3,"sources":["../../src/lib/SSR.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ConfigProviderOverride } from '../components/ConfigProvider/ConfigProviderOverride';\nimport { useObjectMemo } from '../hooks/useObjectMemo';\nimport { BrowserInfo, computeBrowserInfo } from './browser';\nimport { DOMContext, getDOM } from './dom';\nimport { platform as getPlatform } from './platform';\n\nexport interface SSRWrapperProps {\n  userAgent?: string;\n  browserInfo?: BrowserInfo;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SSR\n */\nexport const SSRWrapper = ({ userAgent, browserInfo, children }: SSRWrapperProps) => {\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n\n  const dom = useObjectMemo(getDOM());\n\n  return (\n    <ConfigProviderOverride platform={getPlatform(browserInfo)}>\n      <DOMContext.Provider value={dom}>{children}</DOMContext.Provider>\n    </ConfigProviderOverride>\n  );\n};\n"],"names":["React","ConfigProviderOverride","useObjectMemo","computeBrowserInfo","DOMContext","getDOM","platform","getPlatform","SSRWrapper","userAgent","browserInfo","children","dom","Provider","value"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,sBAAsB,QAAQ,sDAAsD;AAC7F,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAAsBC,kBAAkB,QAAQ,YAAY;AAC5D,SAASC,UAAU,EAAEC,MAAM,QAAQ,QAAQ;AAC3C,SAASC,YAAYC,WAAW,QAAQ,aAAa;AAQrD;;CAEC,GACD,OAAO,MAAMC,aAAa,CAAC,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,EAAmB;IAC9E,IAAI,CAACD,eAAeD,WAAW;QAC7BC,cAAcP,mBAAmBM;IACnC;IAEA,MAAMG,MAAMV,cAAcG;IAE1B,qBACE,oBAACJ;QAAuBK,UAAUC,YAAYG;qBAC5C,oBAACN,WAAWS,QAAQ;QAACC,OAAOF;OAAMD;AAGxC,EAAE"}