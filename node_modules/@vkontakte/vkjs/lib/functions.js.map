{"version":3,"sources":["../src/functions.ts"],"sourcesContent":["export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = typeof window !== 'undefined' ? window : undefined,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = typeof window !== 'undefined' ? window : undefined,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n\nexport function once<T extends (...args: any) => any>(fn: T) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  } as T;\n}\n"],"names":["debounce","noop","once","throttle","fn","threshold","scope","window","undefined","prevDate","Date","now","timeoutId","throttledFn","args","timeLeft","clearTimeout","setTimeout","apply","cancel","delay","context","later","debouncedFn","a","called"],"mappings":";;;;;;;;;;;IAiCgBA,QAAQ;eAARA;;IAjCHC,IAAI;eAAJA;;IAuDGC,IAAI;eAAJA;;IArDAC,QAAQ;eAARA;;;AAFT,IAAMF,OAAO,YAAO;AAAG,2DAA2D;AAElF,SAASE,SACdC,EAA2B;QAC3BC,YAAAA,iEAAY,IACZC,QAAAA,iEAAQ,OAAOC,WAAW,cAAcA,SAASC;IAEjD,IAAIC,WAAmBC,KAAKC,GAAG,KAAKN;IACpC,IAAIO;IAEJ,IAAMC,cAAc;yCAAIC;YAAAA;;QACtB,IAAMC,WAAWN,WAAWJ,YAAYK,KAAKC,GAAG;QAEhDK,aAAaJ;QACb,IAAIG,WAAW,GAAG;YAChBH,YAAYK,WAAW;gBACrBR,WAAWC,KAAKC,GAAG;gBACnBP,GAAGc,KAAK,CAACZ,OAAOQ;YAClB,GAAGC;YACH;QACF;QAEAN,WAAWC,KAAKC,GAAG;QACnBP,GAAGc,KAAK,CAACZ,OAAOQ;IAClB;IAEAD,YAAYM,MAAM,GAAG;QACnBH,aAAaJ;IACf;IAEA,OAAOC;AACT;AAEO,SAASb,SACdI,EAA2B,EAC3BgB,KAAa;QACbC,UAAAA,iEAAU,OAAOd,WAAW,cAAcA,SAASC;IAEnD,IAAII;IACJ,IAAIE;IAEJ,IAAMQ,QAAQ;eAAMlB,GAAGc,KAAK,CAACG,SAASP;;IACtC,IAAMS,cAAc;yCAAIC;YAAAA;;QACtBV,OAAOU;QACPR,aAAaJ;QACbA,YAAYK,WAAWK,OAAOF;IAChC;IAEAG,YAAYJ,MAAM,GAAG;QACnBH,aAAaJ;IACf;IAEA,OAAOW;AACT;AAEO,SAASrB,KAAsCE,EAAK;IACzD,IAAIqB,SAAS;IACb,OAAO;QAAU,IAAA,IAAA,OAAA,UAAA,QAAA,AAAGX,OAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;YAAGA,KAAH,QAAA,SAAA,CAAA,KAAO;;QACtB,IAAIW,QAAQ;YACV;QACF;QAEAA,SAAS;QACT,OAAOrB,GAAGc,KAAK,CAAC,IAAI,EAAEJ;IACxB;AACF"}