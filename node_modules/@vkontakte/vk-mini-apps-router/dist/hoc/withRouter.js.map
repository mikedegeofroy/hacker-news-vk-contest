{"version":3,"file":"withRouter.js","sourceRoot":"","sources":["../../src/hoc/withRouter.tsx"],"names":[],"mappings":";AAAA,OAAO,EAA4B,qBAAqB,EAAE,MAAM,gCAAgC,CAAC;AAGjG,OAAO,EAAE,cAAc,EAAE,MAAM,gBAAgB,CAAC;AAChD,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AAEzE,OAAO,EAAE,iBAAiB,EAAE,MAAM,4BAA4B,CAAC;AAC/D,OAAO,EAAsB,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAY/E;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AACH,MAAM,UAAU,UAAU,CACxB,SAA2B;IAE3B,SAAS,UAAU,CAAC,KAAiC;QACnD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,eAAe,EAAE,CAAC;QAC1D,MAAM,WAAW,GAAgB;YAC/B,cAAc,EAAE,iBAAiB,EAAE;YACnC,QAAQ,EAAE,qBAAqB,EAAE;YACjC,MAAM,EAAE,SAAS,EAAE;YACnB,MAAM,EAAE,SAAS,EAAE;YACnB,WAAW,EAAE,iBAAiB,EAAE;YAChC,YAAY;YACZ,eAAe;SAChB,CAAC;QACF,yEAAyE;QACzE,MAAM,eAAe,GAAM;YACzB,GAAG,KAAK;YACR,GAAG,WAAW;SACV,CAAC;QACP,OAAO,KAAC,SAAS,OAAK,eAAe,GAAI,CAAC;IAC5C,CAAC;IAED,UAAU,CAAC,WAAW,GAAG,cAAc,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC;IACpE,OAAO,UAAU,CAAC;AACpB,CAAC","sourcesContent":["import { ActiveVkuiLocationObject, useActiveVkuiLocation } from '../hooks/useActiveVkuiLocation';\nimport { RouteNavigator } from '../services/RouteNavigator.type';\nimport { ComponentType } from 'react';\nimport { getDisplayName } from '../utils/utils';\nimport { useParams, usePopout, useRouteNavigator } from '../hooks/hooks';\nimport { Params } from '@remix-run/router';\nimport { useFirstPageCheck } from '../hooks/useFirstPageCheck';\nimport { SetURLSearchParams, useSearchParams } from '../hooks/useSearchParams';\n\ntype RouterProps = {\n  location: ActiveVkuiLocationObject;\n  routeNavigator: RouteNavigator;\n  popout: JSX.Element | null;\n  isFirstPage: boolean;\n  params?: Params;\n  searchParams: URLSearchParams;\n  setSearchParams: SetURLSearchParams;\n};\n\n/**\n * HOC для добавления свойств\n *\n * location: {@link ActiveVkuiLocationObject}\n *\n * routeNavigator: {@link RouteNavigator}\n *\n * popout: {@link JSX.Element}\n *\n * params: {@link Params}\n *\n * isFirstPage: boolean\n *\n * searchParams: {@link URLSearchParams}\n *\n * setSearchParams: {@link SetURLSearchParams}\n *\n * в переданный компонент\n *\n * ```typescript\n * export default withRouter(App);\n * ```\n * @param Component\n */\nexport function withRouter<T extends RouterProps>(\n  Component: ComponentType<T>,\n): ComponentType<Omit<T, keyof RouterProps>> {\n  function WithRouter(props: Omit<T, keyof RouterProps>) {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const routerProps: RouterProps = {\n      routeNavigator: useRouteNavigator(),\n      location: useActiveVkuiLocation(),\n      popout: usePopout(),\n      params: useParams(),\n      isFirstPage: useFirstPageCheck(),\n      searchParams,\n      setSearchParams,\n    };\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    const propsWithRouter: T = {\n      ...props,\n      ...routerProps,\n    } as T;\n    return <Component {...propsWithRouter} />;\n  }\n\n  WithRouter.displayName = `WithRouter(${getDisplayName(Component)})`;\n  return WithRouter;\n}\n"]}