{"version":3,"file":"ViewConfig.js","sourceRoot":"","sources":["../../src/page-types/ViewConfig.ts"],"names":[],"mappings":"AACA,OAAO,EAAkD,SAAS,EAAE,MAAM,UAAU,CAAC;AASrF,MAAM,OAAO,UAAU;IACrB,YAAmB,EAAK,EAAU,MAAkB;QAAjC,OAAE,GAAF,EAAE,CAAG;QAAU,WAAM,GAAN,MAAM,CAAY;QAClD,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACvB,6DAA6D;YAC7D,mBAAmB;YACnB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,MAAM;aACf,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;aACjC,IAAI,EAAE;aACN,GAAG,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC7D,CAAC;CACF;AA6DD,MAAM,UAAU,UAAU,CAAmB,EAAK,EAAE,MAAkB;IACpE,OAAO,IAAI,UAAU,CAAI,EAAE,EAAE,MAAM,CAAC,CAAC;AACvC,CAAC","sourcesContent":["import { AnyPanel } from './PanelPage';\nimport { AddChild, HasChildren, HasId, RepresentsRoutes, uniqueKey } from './common';\nimport { CommonRouteObject } from '../type';\n\ninterface ViewRoutePartial extends CommonRouteObject {\n  view: string;\n  panel: string;\n  modal?: string;\n}\n\nexport class ViewConfig<T extends string> implements HasId<T>, HasChildren<AnyPanel>, RepresentsRoutes<ViewRoutePartial> {\n  constructor(public id: T, private panels: AnyPanel[]) {\n    panels.forEach((panel) => {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      this[uniqueKey(this, panel.id)] = panel;\n    });\n  }\n\n  get children(): AnyPanel[] {\n    return this.panels;\n  }\n\n  getRoutes(): ViewRoutePartial[] {\n    return this.panels\n      .map((panel) => panel.getRoutes())\n      .flat()\n      .map((panelRoute) => ({ ...panelRoute, view: this.id }));\n  }\n}\n\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel, I extends AnyPanel,\n  J extends AnyPanel, K extends AnyPanel, L extends AnyPanel, M extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H, I, J, K, L, M]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<AddChild<AddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>, I>, J>, K>, L>, M>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel, I extends AnyPanel,\n  J extends AnyPanel, K extends AnyPanel, L extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H, I, J, K, L]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<AddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>, I>, J>, K>, L>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel, I extends AnyPanel,\n  J extends AnyPanel, K extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H, I, J, K]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>, I>, J>, K>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel, I extends AnyPanel,\n  J extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H, I, J]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>, I>, J>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel, I extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H, I]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>, I>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel, H extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G, H]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>, H>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel, G extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F, G]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>, G>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel, F extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E, F]): AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<ViewConfig<T>, A>, B>, C>, D>, E>, F>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n  E extends AnyPanel,\n>(id: T, panels: [A, B, C, D, E]): AddChild<AddChild<AddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>, E>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel, D extends AnyPanel,\n>(id: T, panels: [A, B, C, D]): AddChild<AddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>, D>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel, C extends AnyPanel,\n>(id: T, panels: [A, B, C]): AddChild<AddChild<AddChild<ViewConfig<T>, A>, B>, C>;\nexport function createView<\n  T extends string, A extends AnyPanel, B extends AnyPanel,\n>(id: T, panels: [A, B]): AddChild<AddChild<ViewConfig<T>, A>, B>;\nexport function createView<T extends string, A extends AnyPanel>(id: T, panels: [A]): AddChild<ViewConfig<T>, A>;\nexport function createView<T extends string>(id: T, panels: AnyPanel[]): ViewConfig<T>;\nexport function createView<T extends string>(id: T, panels: AnyPanel[]): ViewConfig<T> {\n  return new ViewConfig<T>(id, panels);\n}\n"]}