{"version":3,"file":"RootConfig.js","sourceRoot":"","sources":["../../src/page-types/RootConfig.ts"],"names":[],"mappings":"AACA,OAAO,EAAkD,SAAS,EAAE,MAAM,UAAU,CAAC;AAUrF,MAAM,OAAO,UAAU;IACrB,YAAmB,EAAK,EAAU,KAA2B;QAA1C,OAAE,GAAF,EAAE,CAAG;QAAU,UAAK,GAAL,KAAK,CAAsB;QAC3D,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACjB,MAAM,IAAI,KAAK,CAAC,yBAAyB,EAAE,mDAAmD,CAAC,CAAC;SACjG;QACD,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACtB,6DAA6D;YAC7D,mBAAmB;YACnB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,KAAK;aACd,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;aAC/B,IAAI,EAAE;aACN,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;CACF;AA2BD,MAAM,UAAU,UAAU,CAAmB,EAAK,EAAE,KAAY;IAC9D,OAAO,IAAI,UAAU,CAAI,EAAE,EAAE,KAAK,CAAC,CAAC;AACtC,CAAC","sourcesContent":["import { ViewConfig } from './ViewConfig';\nimport { AddChild, HasChildren, HasId, RepresentsRoutes, uniqueKey } from './common';\nimport { CommonRouteObject } from '../type';\n\ninterface RootRoutePartial extends CommonRouteObject {\n  root: string;\n  view: string;\n  panel: string;\n  modal?: string;\n}\n\nexport class RootConfig<T extends string> implements HasId<T>, HasChildren<ViewConfig<string>>, RepresentsRoutes<RootRoutePartial> {\n  constructor(public id: T, private views: ViewConfig<string>[]) {\n    if (!views.length) {\n      throw new Error(`Trying to create root ${id} without views. Root must have at least one view.`);\n    }\n    views.forEach((views) => {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      this[uniqueKey(this, views.id)] = views;\n    });\n  }\n\n  get children(): ViewConfig<string>[] {\n    return this.views;\n  }\n\n  getRoutes(): RootRoutePartial[] {\n    return this.views\n      .map((view) => view.getRoutes())\n      .flat()\n      .map((viewRoute) => ({ ...viewRoute, root: this.id }));\n  }\n}\n\nexport function createRoot<\n  T extends string, A extends ViewConfig<any>, B extends ViewConfig<any>, C extends ViewConfig<any>, D extends ViewConfig<any>,\n  E extends ViewConfig<any>, F extends ViewConfig<any>, G extends ViewConfig<any>,\n>(id: T, panels: [A, B, C, D, E, F, G]): AddChild<AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<RootConfig<T>, A>, B>, C>, D>, E>, F>, G>;\nexport function createRoot<\n  T extends string, A extends ViewConfig<any>, B extends ViewConfig<any>, C extends ViewConfig<any>, D extends ViewConfig<any>,\n  E extends ViewConfig<any>, F extends ViewConfig<any>,\n>(id: T, panels: [A, B, C, D, E, F]): AddChild<AddChild<AddChild<AddChild<AddChild<\nAddChild<RootConfig<T>, A>, B>, C>, D>, E>, F>;\nexport function createRoot<\n  T extends string, A extends ViewConfig<any>, B extends ViewConfig<any>, C extends ViewConfig<any>, D extends ViewConfig<any>,\n  E extends ViewConfig<any>,\n>(id: T, panels: [A, B, C, D, E]): AddChild<AddChild<AddChild<AddChild<AddChild<RootConfig<T>, A>, B>, C>, D>, E>;\nexport function createRoot<\n  T extends string, A extends ViewConfig<any>, B extends ViewConfig<any>, C extends ViewConfig<any>, D extends ViewConfig<any>,\n>(id: T, panels: [A, B, C, D]): AddChild<AddChild<AddChild<AddChild<RootConfig<T>, A>, B>, C>, D>;\nexport function createRoot<\n  T extends string, A extends ViewConfig<any>, B extends ViewConfig<any>, C extends ViewConfig<any>,\n>(id: T, panels: [A, B, C]): AddChild<AddChild<AddChild<RootConfig<T>, A>, B>, C>;\nexport function createRoot<T extends string,\n  A extends ViewConfig<any>, B extends ViewConfig<any>,\n>(id: T, views: [A, B]): AddChild<AddChild<RootConfig<T>, A>, B>;\nexport function createRoot<T extends string, A extends ViewConfig<any>>(id: T, views: [A]): AddChild<RootConfig<T>, A>;\nexport function createRoot<T extends string>(id: T, views: ViewConfig<any>[]): RootConfig<T>;\nexport function createRoot<T extends string>(id: T, views: any[]): RootConfig<T> {\n  return new RootConfig<T>(id, views);\n}\n"]}